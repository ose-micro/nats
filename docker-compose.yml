# docker-compose.yml
version: '3.8'
services:
  nats:
    build: .
    container_name: nats
    restart: unless-stopped
    ports:
      - "4222:4222" # Client connections
      - "8222:8222" # HTTP monitoring
    command: [
      "-js",                         # Enable JetStream
      "-DV",                         # Enable debug & trace
      "--store_dir", "/data/jetstream",
      "--http_port", "8222"
    ]
    volumes:
      - nats_data:/data

volumes:
  nats_data:
